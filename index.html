<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h1>Formulario de Registro</h1>
            <form class="registration-form" id="registrationForm">
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" required>
                </div>
                
                <div class="form-group">
                    <label for="edad">Edad:</label>
                    <input type="number" id="edad" name="edad" min="1" max="120" required>
                </div>
                
                <div class="form-group">
                    <label for="pais">País:</label>
                    <select id="pais" name="pais" required>
                        <option value="">Selecciona tu país</option>
                        <option value="guatemala">Guatemala</option>
                        <option value="honduras">Honduras</option>
                        <option value="nicaragua">Nicaragua</option>
                    </select>
                </div>

                <div class="form-group" id="companiaGroup" style="display: none;">
                    <label for="compania">Compañía de Préstamos:</label>
                    <select id="compania" name="compania" required>
                        <option value="">Selecciona una compañía</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">Enviar</button>
            </form>
        </div>

        <!-- Sección de contactos que aparecerá después del envío -->
        <div class="contacts-container" id="contactsContainer" style="display: none;">
            <div class="contacts-content">
                <h2>¡Gracias <span id="userName"></span>!</h2>
                <p class="welcome-message">Contacta con <span id="selectedCompany"></span> en <span id="selectedCountry"></span>:</p>
                
                <div class="contact-numbers">
                    <div class="contact-item">
                        <div class="whatsapp-info">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="whatsapp-logo">
                            <div class="contact-details">
                                <h3 id="contactName"></h3>
                                <p id="phoneNumber"></p>
                                <p class="company-name" id="companyName"></p>
                            </div>
                        </div>
                        <a href="#" id="whatsappLink" class="whatsapp-btn" target="_blank">
                            Contactar por WhatsApp
                        </a>
                    </div>
                </div>

                <button class="back-btn" onclick="goBack()">Volver al formulario</button>
            </div>
        </div>
    </div>

    <script>
        // Empresas y contactos por país
        const companiesByCountry = {
            guatemala: [
                { 
                    value: "prestamos-eficaz", 
                    name: "PRESTAMOS EFICAZ GUATEMALA",
                    phone: "+502 4111-9854",
                    whatsapp: "50241119854"
                }
            ],
            honduras: [
                { 
                    value: "credifinancial-hn", 
                    name: "Credifinancial",
                    phone: "+504 8735-2739",
                    whatsapp: "50487352739"
                },
                { 
                    value: "Banca confiable Honduras", 
                    name: "Banca Confiable Honduras",
                    phone: "+504 93683235",
                    whatsapp: "50493683235"
                },
               
            ],
            nicaragua: [
                {
                    value: "Credit Jaguar Nicaragua ", 
                    name: "Credit Jaguar Nicaragua",
                    phone: "+505 4111-9854",
                    whatsapp: "50541119854"
                },
             
        
                { 
                    value: "credialianza-ni", 
                    name: "CrediAlianza",
                    phone: "+505 7643-7606",
                    whatsapp: "50576437606"
                },
                { 
                    value: "banca-credit-nicaragua", 
                    name: "Banca credit Nicaragua",
                    phone: "+50586145741",
                    whatsapp: "50586145741"
                },
                { 
                    value: "confianza-financiera", 
                    name: "CONFIANZA FINANCIERA",
                    phone: "+505 8117-0232",
                    whatsapp: "50581170232"
                },
                { 
                    value: "instacredit", 
                    name: "INSTACREDIT",
                    phone: "+50587183907",
                    whatsapp: "50587183907"
                },
                {
                    value: "CrediAvanza", 
                    name: "CrediAvanza",
                    phone: "+505 57067730",
                    whatsapp: "50557067730"
                },
            ]
        };

        // Evento para cuando cambia el país
        document.getElementById('pais').addEventListener('change', function() {
            const selectedCountry = this.value;
            const companiaSelect = document.getElementById('compania');
            const companiaGroup = document.getElementById('companiaGroup');
            
            // Limpiar opciones anteriores
            companiaSelect.innerHTML = '<option value="">Selecciona una compañía</option>';
            
            if (selectedCountry && companiesByCountry[selectedCountry]) {
                // Mostrar el campo de compañía
                companiaGroup.style.display = 'block';
                
                // Agregar las empresas del país seleccionado
                companiesByCountry[selectedCountry].forEach(company => {
                    const option = document.createElement('option');
                    option.value = company.value;
                    option.textContent = company.name;
                    companiaSelect.appendChild(option);
                });
            } else {
                // Ocultar el campo de compañía si no hay país seleccionado
                companiaGroup.style.display = 'none';
            }
        });

        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nombre = document.getElementById('nombre').value;
            const edad = document.getElementById('edad').value;
            const pais = document.getElementById('pais').value;
            const compania = document.getElementById('compania').value;
            
            if (nombre && edad && pais && compania) {
                showContacts(nombre, pais, compania);
            }
        });

        function showContacts(nombre, pais, compania) {
            // Encontrar la compañía seleccionada
            const selectedCompany = companiesByCountry[pais].find(c => c.value === compania);
            
            if (!selectedCompany) return;
            
            // Ocultar formulario
            document.querySelector('.form-container').style.display = 'none';
            
            // Mostrar sección de contactos
            document.getElementById('contactsContainer').style.display = 'block';
            
            // Llenar información
            document.getElementById('userName').textContent = nombre;
            document.getElementById('selectedCountry').textContent = getCountryName(pais);
            document.getElementById('selectedCompany').textContent = selectedCompany.name;
            document.getElementById('contactName').textContent = selectedCompany.contact;
            document.getElementById('phoneNumber').textContent = selectedCompany.phone;
            document.getElementById('companyName').textContent = selectedCompany.name;
            document.getElementById('whatsappLink').href = `https://wa.me/${selectedCompany.whatsapp}`;
        }

        function getCountryName(countryCode) {
            const countries = {
                'guatemala': 'Guatemala',
                'honduras': 'Honduras',
                'nicaragua': 'Nicaragua'
            };
            return countries[countryCode] || countryCode;
        }

        function goBack() {
            document.getElementById('contactsContainer').style.display = 'none';
            document.querySelector('.form-container').style.display = 'block';
            
            // Resetear el formulario
            document.getElementById('registrationForm').reset();
            document.getElementById('companiaGroup').style.display = 'none';
        }
    </script>
</body>
</html>